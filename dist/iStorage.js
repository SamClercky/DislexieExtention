function Db(){this.settings={dyslexic:{value:!0,type:"checkbox",label:"Activate dyslexic extension",help:"Activate or desactivate all functions",spacer:0},font:{value:!0,type:"checkbox",label:"Activate OpenDyslexic",help:"Activate the OpenDyslexic font (some icons will not be shown)",spacer:1},markup:{value:!1,type:"checkbox",label:"Force easy reading mark-up",help:"Force the site to make improvements in the layout (this can possibly break the site layout)",spacer:1},screen:{value:!0,type:"checkbox",label:"Activate overlay",help:"Activate special overlay help",spacer:1},color:{value:"#00ecff",type:"color",label:"Choose overlaycolor",help:"Color of special overlay",spacer:2},opacity:{value:.5,type:"range",label:"Opacity",help:"Sets the opacity of the overlay",spacer:2},_firstRunPassed:{value:!1,type:"checkbox",label:"",help:"",spacer:0}},this._dataName="settings",this.ready=!1,this._init()}Db.prototype._dataExists=function(e){for(var t in this.settings)if(this.settings[e])return!0;return!1},Db.prototype._init=function(){var e=this;this.Get("_firstRunPassed",function(t){if(void 0!=t._firstRunPassed)return e.ready=!0,!1;for(var s in e.settings){var a={};a[s]=e.settings[s],e.Insert(a)}e.ready=!0,e.Set("_firstRunPassed",!0)})},Db.prototype.Insert=function(e){chrome.storage.local.set(e)},Db.prototype.Get=function(e,t){chrome.storage.local.get(e,t)},Db.prototype.Set=function(e,t){if(!this._dataExists(e))return!1;var s={};s[e]=this.settings[e],s[e].value=t,this.Insert(s)};